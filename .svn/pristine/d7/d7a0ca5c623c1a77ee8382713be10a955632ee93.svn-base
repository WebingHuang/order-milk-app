(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/capital/addcard"],{178:function(e,n,t){"use strict";(function(e){t(5);r(t(4));var n=r(t(179));function r(e){return e&&e.__esModule?e:{default:e}}wx.__webpack_require_UNI_MP_PLUGIN__=t,e(n.default)}).call(this,t(1)["createPage"])},179:function(e,n,t){"use strict";t.r(n);var r=t(180),u=t(182);for(var o in u)"default"!==o&&function(e){t.d(n,e,(function(){return u[e]}))}(o);t(184);var i,a=t(11),s=Object(a["default"])(u["default"],r["render"],r["staticRenderFns"],!1,null,null,null,!1,r["components"],i);s.options.__file="pages/capital/addcard.vue",n["default"]=s.exports},180:function(e,n,t){"use strict";t.r(n);var r=t(181);t.d(n,"render",(function(){return r["render"]})),t.d(n,"staticRenderFns",(function(){return r["staticRenderFns"]})),t.d(n,"recyclableRender",(function(){return r["recyclableRender"]})),t.d(n,"components",(function(){return r["components"]}))},181:function(e,n,t){"use strict";var r;t.r(n),t.d(n,"render",(function(){return u})),t.d(n,"staticRenderFns",(function(){return i})),t.d(n,"recyclableRender",(function(){return o})),t.d(n,"components",(function(){return r}));try{r={uForm:function(){return t.e("uview-ui/components/u-form/u-form").then(t.bind(null,695))},uFormItem:function(){return Promise.all([t.e("common/vendor"),t.e("uview-ui/components/u-form-item/u-form-item")]).then(t.bind(null,702))},uInput:function(){return Promise.all([t.e("common/vendor"),t.e("uview-ui/components/u-input/u-input")]).then(t.bind(null,711))}}}catch(a){if(-1===a.message.indexOf("Cannot find module")||-1===a.message.indexOf(".vue"))throw a;console.error(a.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var u=function(){var e=this,n=e.$createElement;e._self._c},o=!1,i=[];u._withStripped=!0},182:function(e,n,t){"use strict";t.r(n);var r=t(183),u=t.n(r);for(var o in r)"default"!==o&&function(e){t.d(n,e,(function(){return r[e]}))}(o);n["default"]=u.a},183:function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t={data:function(){return{Height:"",tips:"",seconds:60,form:{cardNumber:"",cardholder:"",IdNumber:"",phoneNumber:"",verify:"666"},rules:{cardNumber:[{required:!0,message:"请输入卡号",trigger:["change","blur"]},{pattern:/^\d{16}|\d{19}$/,transform:function(e){return String(e)},message:"银卡输入不正确",trigger:["change","blur"]}],verify:[{required:!0,message:"请输入验证码",trigger:["change","blur"]}],cardholder:[{required:!0,message:"请输入持卡人",trigger:["change","blur"]},{pattern:/^((?![\u3000-\u303F])[\u2E80-\uFE4F]|\·)*(?![\u3000-\u303F])[\u2E80-\uFE4F](\·)*$/,transform:function(e){return String(e)},message:"请输入正确的持卡人",trigger:["change","blur"]}],IdNumber:[{required:!0,message:"请输入身份证",trigger:["change","blur"]},{pattern:/^(\d{18,18}|\d{15,15}|\d{17,17}X)$/,transform:function(e){return String(e)},message:"请输入正确的身份证",trigger:["change","blur"]}],phoneNumber:[{required:!0,message:"请输入手机号",trigger:["change","blur"]},{pattern:/^1[3|4|5|7|8][0-9]{9}$/,transform:function(e){return String(e)},message:"请输入正确的手机号",trigger:["change","blur"]}]}}},onLoad:function(){this.getAppHeight()},onReady:function(){this.$refs.uForm.setRules(this.rules)},methods:{codeChange:function(e){parseInt(e)?this.tips=parseInt(e)+"S":this.tips=e},getCode:function(){var n=this;""!=this.form.phoneNumber?this.$refs.uCode.canGetCode?(e.showLoading({title:"正在获取验证码"}),this.$u.api.getMessageCode({phone:this.form.phoneNumber}).then((function(e){n.$u.toast("验证码已发送"),n.$refs.uCode.start(),n.form.verify=e.data})).catch((function(e){n.$u.toast(e.data.message)}))):this.$u.toast("倒计时结束后再发送"):this.$u.toast("请输入手机号")},end:function(){this.$u.toast("倒计时结束")},start:function(){this.$u.toast("已发送")},toaddcard:function(){var n=this;this.$refs.uForm.validate((function(t){t?n.$u.api.queryByBank({bank:n.form.cardNumber}).then((function(t){n.$u.api.BindingBankCard({bankCardFront:n.form.cardNumber,idCard:n.form.IdNumber,mobile:n.form.phoneNumber,userName:n.form.cardholder,messageCode:n.form.verify}).then((function(n){e.navigateBack()})).catch((function(e){n.$u.toast(e.msg)}))})).catch((function(e){e.data||n.$u.toast("银行卡已存在")})):console.log("验证失败")}))},getAppHeight:function(){this.Height=e.getSystemInfoSync().windowHeight+"px"}}};n.default=t}).call(this,t(1)["default"])},184:function(e,n,t){"use strict";t.r(n);var r=t(185),u=t.n(r);for(var o in r)"default"!==o&&function(e){t.d(n,e,(function(){return r[e]}))}(o);n["default"]=u.a},185:function(e,n,t){}},[[178,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/capital/addcard.js.map