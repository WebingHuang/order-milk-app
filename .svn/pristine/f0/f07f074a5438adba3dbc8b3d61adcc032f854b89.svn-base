(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/commodity/index"],{100:function(e,t,n){"use strict";n.r(t);var o=n(101);n.d(t,"render",(function(){return o["render"]})),n.d(t,"staticRenderFns",(function(){return o["staticRenderFns"]})),n.d(t,"recyclableRender",(function(){return o["recyclableRender"]})),n.d(t,"components",(function(){return o["components"]}))},101:function(e,t,n){"use strict";var o;n.r(t),n.d(t,"render",(function(){return r})),n.d(t,"staticRenderFns",(function(){return a})),n.d(t,"recyclableRender",(function(){return i})),n.d(t,"components",(function(){return o}));try{o={uSearch:function(){return n.e("uview-ui/components/u-search/u-search").then(n.bind(null,587))},uLoadmore:function(){return n.e("uview-ui/components/u-loadmore/u-loadmore").then(n.bind(null,601))},tarbar:function(){return Promise.all([n.e("common/vendor"),n.e("components/tarbar/tarbar")]).then(n.bind(null,608))}}}catch(s){if(-1===s.message.indexOf("Cannot find module")||-1===s.message.indexOf(".vue"))throw s;console.error(s.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var r=function(){var e=this,t=e.$createElement,n=(e._self._c,0!==e.commodityList.length?e.__map(e.commodityList,(function(t,n){var o=e.__get_orig(t),r=t.salesQuantity?e.sum(t):null;return{$orig:o,m0:r}})):null);e.$mp.data=Object.assign({},{$root:{l0:n}})},i=!1,a=[];r._withStripped=!0},102:function(e,t,n){"use strict";n.r(t);var o=n(103),r=n.n(o);for(var i in o)"default"!==i&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t["default"]=r.a},103:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){Promise.all([n.e("common/vendor"),n.e("components/tarbar/tarbar")]).then(function(){return resolve(n(608))}.bind(null,n)).catch(n.oe)},r={components:{tarbar:o},data:function(){return{current:1,keyword:"",page:{state:"loadMore",pageNum:1,pageSize:6},commodityList:[],isAgent:!1}},onReachBottom:function(){"loadMore"===this.page.state&&(this.page.pageNum++,this.getCommodityList())},methods:{sum:function(e){var t=0;return t+=Number(e.salesQuantity||0),t+=Number(e.virtualQuantity||0),t},handlerClick:function(e){this.current=e},getcommodityInfo:function(t){e.navigateTo({url:"/pages/commodity/info?id="+t.id+"&imgurl="+t.imgUrl})},getCommodityList:function(){var e=this;this.$u.api.getCommodity({commodityQueryVo:{spuName:this.keyword},pageRequest:{pageNum:this.page.pageNum,pageSize:this.page.pageSize}}).then((function(t){t.records.forEach((function(t){e.commodityList.push(t)})),t.current==t.pages&&(e.page.status="noneMore")})).catch((function(e){}))},clearKeyWord:function(e){this.keyword="",this.page.state="loadMore",this.page.pageNum=1,this.page.pageSize=6,this.commodityList=[],this.getCommodityList()},search:function(e){this.keyword=e,this.page.state="loadMore",this.page.pageNum=1,this.page.pageSize=6,this.commodityList=[],this.getCommodityList()},in_array:function(e,t){for(var n=0;n<t.length;n++){var o=t[n].toString();if(o==e)return!0}return!1},getOpenInfo:function(e){var t=this;this.$u.api.getOpenInfo().then((function(e){if(t.in_array("944f251d-2a9e-49d2-b416-7eaa6b68ee3f",e.roleCode)){for(var n=0;n<e.roleList.length;n++)if("944f251d-2a9e-49d2-b416-7eaa6b68ee3f"==e.roleList[n].roleCode){t.isAgent=!0;break}}else if(t.in_array("d2fe397f-2d95-4532-a1eb-74efbe242659",e.roleCode)){for(n=0;n<e.roleList.length;n++)if("d2fe397f-2d95-4532-a1eb-74efbe242659"==e.roleList[n].roleCode){t.isAgent=!0;break}}else if(t.in_array("d2fe397f-2d95-4532-a1eb-74efbe242660",e.roleCode)){for(n=0;n<e.roleList.length;n++)if("d2fe397f-2d95-4532-a1eb-74efbe242660"==e.roleList[n].roleCode){t.isAgent=!1;break}}else t.isAgent=!1;t.getCommodityList()})).catch((function(e){}))}},watch:{},onLoad:function(t){this.keyword=t.search,this.page.state="loadMore",this.page.pageNum=1,this.page.pageSize=6,this.commodityList=[];var n=e.getStorageSync("token");n?this.getOpenInfo(n):this.getCommodityList()}};t.default=r}).call(this,n(1)["default"])},104:function(e,t,n){"use strict";n.r(t);var o=n(105),r=n.n(o);for(var i in o)"default"!==i&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t["default"]=r.a},105:function(e,t,n){},98:function(e,t,n){"use strict";(function(e){n(5);o(n(4));var t=o(n(99));function o(e){return e&&e.__esModule?e:{default:e}}wx.__webpack_require_UNI_MP_PLUGIN__=n,e(t.default)}).call(this,n(1)["createPage"])},99:function(e,t,n){"use strict";n.r(t);var o=n(100),r=n(102);for(var i in r)"default"!==i&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n(104);var a,s=n(11),u=Object(s["default"])(r["default"],o["render"],o["staticRenderFns"],!1,null,null,null,!1,o["components"],a);u.options.__file="pages/commodity/index.vue",t["default"]=u.exports}},[[98,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/commodity/index.js.map