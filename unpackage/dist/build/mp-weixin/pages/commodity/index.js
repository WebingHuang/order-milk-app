(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/commodity/index"],{"340a":function(e,t,o){"use strict";(function(e,t){var n=o("4ea4");o("3afe");n(o("66fd"));var i=n(o("5614"));e.__webpack_require_UNI_MP_PLUGIN__=o,t(i.default)}).call(this,o("bc2e")["default"],o("543d")["createPage"])},"48b4":function(e,t,o){},"4c7f":function(e,t,o){"use strict";o.r(t);var n=o("6d1c"),i=o.n(n);for(var a in n)["default"].indexOf(a)<0&&function(e){o.d(t,e,(function(){return n[e]}))}(a);t["default"]=i.a},5614:function(e,t,o){"use strict";o.r(t);var n=o("8cd4"),i=o("4c7f");for(var a in i)["default"].indexOf(a)<0&&function(e){o.d(t,e,(function(){return i[e]}))}(a);o("715b");var r=o("f0c5"),u=Object(r["a"])(i["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);t["default"]=u.exports},"6d1c":function(e,t,o){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={components:{tarbar:function(){Promise.all([o.e("common/vendor"),o.e("components/tarbar/tarbar")]).then(function(){return resolve(o("6401"))}.bind(null,o)).catch(o.oe)}},data:function(){return{current:1,keyword:"",page:{state:"loadMore",pageNum:1,pageSize:6},commodityList:[],isAgent:!1}},onReachBottom:function(){"loadMore"===this.page.state&&(this.page.pageNum++,this.getCommodityList())},methods:{sum:function(e){var t=0;return t+=Number(e.salesQuantity||0),t+=Number(e.virtualQuantity||0),t},handlerClick:function(e){this.current=e},getcommodityInfo:function(t){e.navigateTo({url:"/pages/commodity/info?id="+t.id+"&imgurl="+t.imgUrl})},getCommodityList:function(){var e=this;this.$u.api.getCommodity({commodityQueryVo:{spuName:this.keyword},pageRequest:{pageNum:this.page.pageNum,pageSize:this.page.pageSize}}).then((function(t){t.records.forEach((function(t){e.commodityList.push(t)})),t.current==t.pages&&(e.page.status="noneMore")})).catch((function(e){}))},clearKeyWord:function(e){this.keyword="",this.page.state="loadMore",this.page.pageNum=1,this.page.pageSize=6,this.commodityList=[],this.getCommodityList()},search:function(e){this.keyword=e,this.page.state="loadMore",this.page.pageNum=1,this.page.pageSize=6,this.commodityList=[],this.getCommodityList()},in_array:function(e,t){for(var o=0;o<t.length;o++){var n=t[o].toString();if(n==e)return!0}return!1},getOpenInfo:function(e){var t=this;this.$u.api.getOpenInfo().then((function(e){if(t.in_array("944f251d-2a9e-49d2-b416-7eaa6b68ee3f",e.roleCode)){for(var o=0;o<e.roleList.length;o++)if("944f251d-2a9e-49d2-b416-7eaa6b68ee3f"==e.roleList[o].roleCode){t.isAgent=!0;break}}else if(t.in_array("d2fe397f-2d95-4532-a1eb-74efbe242659",e.roleCode)){for(o=0;o<e.roleList.length;o++)if("d2fe397f-2d95-4532-a1eb-74efbe242659"==e.roleList[o].roleCode){t.isAgent=!0;break}}else if(t.in_array("d2fe397f-2d95-4532-a1eb-74efbe242660",e.roleCode)){for(o=0;o<e.roleList.length;o++)if("d2fe397f-2d95-4532-a1eb-74efbe242660"==e.roleList[o].roleCode){t.isAgent=!1;break}}else t.isAgent=!1;t.getCommodityList()})).catch((function(e){}))}},watch:{},onLoad:function(t){this.keyword=t.search,this.page.state="loadMore",this.page.pageNum=1,this.page.pageSize=6,this.commodityList=[];var o=e.getStorageSync("token");o?this.getOpenInfo(o):this.getCommodityList()}};t.default=n}).call(this,o("543d")["default"])},"715b":function(e,t,o){"use strict";var n=o("48b4"),i=o.n(n);i.a},"8cd4":function(e,t,o){"use strict";o.d(t,"b",(function(){return i})),o.d(t,"c",(function(){return a})),o.d(t,"a",(function(){return n}));var n={uSearch:function(){return o.e("uview-ui/components/u-search/u-search").then(o.bind(null,"59e0"))},uLoadmore:function(){return o.e("uview-ui/components/u-loadmore/u-loadmore").then(o.bind(null,"88fc"))},tarbar:function(){return Promise.all([o.e("common/vendor"),o.e("components/tarbar/tarbar")]).then(o.bind(null,"6401"))}},i=function(){var e=this,t=e.$createElement,o=(e._self._c,e.commodityList.length),n=0!==o?e.__map(e.commodityList,(function(t,o){var n=e.__get_orig(t),i=t.salesQuantity?e.sum(t):null;return{$orig:n,m0:i}})):null;e.$mp.data=Object.assign({},{$root:{g0:o,l0:n}})},a=[]}},[["340a","common/runtime","common/vendor"]]]);