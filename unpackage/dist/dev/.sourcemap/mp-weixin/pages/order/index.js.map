{"version":3,"sources":["uni-app:///main.js","webpack:///D:/Work/code/order-milk-app/pages/order/index.vue?3d7e","webpack:///D:/Work/code/order-milk-app/pages/order/index.vue?a1eb","webpack:///D:/Work/code/order-milk-app/pages/order/index.vue?d67a","webpack:///D:/Work/code/order-milk-app/pages/order/index.vue?f863","uni-app:///pages/order/index.vue","webpack:///D:/Work/code/order-milk-app/pages/order/index.vue?67e2"],"names":["createPage","Page","renderjs","component","options","__file","components","uLoadmore","e","message","indexOf","console","error","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped"],"mappings":";;;;wEAAA,qBACA,sBACA,0C,mDACAA,EAAWC,a;;;;2DCHX,yQACIC,EADJ,+LASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,wBACZ,aAAAF,E;;;;2GCvBf,swC;;;;2GCAA,IAAIG,EAAJ,0LACA,IACEA,EAAa,CACXC,UAAW,WACT,OAAO,2LAKX,MAAOC,GACP,IAC+C,IAA7CA,EAAEC,QAAQC,QAAQ,wBACa,IAA/BF,EAAEC,QAAQC,QAAQ,QAWlB,MAAMF,EATNG,QAAQC,MAAMJ,EAAEC,SAChBE,QAAQC,MAAM,mBACdD,QAAQC,MACN,uFAEFD,QAAQC,MACN,mDAMN,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,IAEjBC,GAAmB,EACnBC,EAAkB,GACtBR,EAAOS,eAAgB,G;;;;2DCjCvB,42BAAqzB,eAAG,G;;;;0ICwDxzB,4B,mDACA,OACA,iBACA,oBACA,oBAEA,UACA,UACA,UACA,W,EAEA,CACA,KADA,WAEA,OACA,cACA,OACA,WAEA,CACA,YAEA,CACA,YAEA,CACA,YAEA,CACA,YAGA,MACA,kBACA,UACA,aAEA,aACA,UACA,cACA,iBAGA,OA/BA,SA+BA,GACA,kCACA,kCACA,OACA,+BACA,qCAEA,4BACA,uBACA,gCAEA,mBACA,oBACA,qBAEA,OA9CA,WA+CA,yCACA,kDAEA,OAlDA,WAmDA,kCACA,kCACA,OACA,eACA,mBACA,mBACA,sBAGA,SACA,aADA,WACA,WACA,iBACA,8BACA,yCACA,8BACA,IACA,0BACA,aACA,0BACA,6BAEA,eACA,kBAGA,+BACA,qBACA,mCAGA,qBACA,6BAEA,SAEA,QA1BA,SA0BA,GACA,UACA,QACA,YAEA,QACA,YAEA,QACA,YAEA,QACA,YAEA,QACA,YAEA,QACA,YAEA,QACA,cAIA,8CACA,UACA,UACA,eACA,MACA,WACA,oBACA,MACA,UACA,mBACA,MACA,aACA,iBACA,MACA,WACA,uBACA,MACA,WACA,uBACA,MACA,WACA,gBACA,SAMA,KACA,WACA,cAGA,QApFA,SAoFA,GACA,OACA,kBACA,oBACA,qBAEA,KACA,yBACA,KAEA,aACA,IACA,eACA,KAGA,KACA,aACA,WACA,aACA,qBACA,cACA,iBACA,QANA,SAMA,GACA,WACA,uBAMA,cACA,iQAcA,YAlIA,SAkIA,GACA,uCACA,cACA,4EAGA,cACA,yEAKA,OA9IA,SA8IA,GAEA,SACA,KACA,KAEA,0CACA,gBACA,gBACA,yBAGA,cACA,4IAKA,YAhKA,SAgKA,cACA,0BACA,kBACA,gBACA,gBACA,kBACA,aACA,gBAEA,gBACA,kBACA,gBACA,oBACA,SAGA,WAhLA,SAgLA,GACA,cACA,qEAIA,SAtLA,SAsLA,GACA,sBACA,cACA,iDAIA,eA7LA,WA8LA,qBAGA,eAjMA,SAiMA,cAGA,KAEA,0CACA,mBAOA,4BACA,kBACA,UACA,kBACA,aACA,eAEA,gBACA,eACA,iBACA,oBACA,SAGA,eA5NA,WA6NA,qBAEA,OA/NA,SA+NA,GAGA,eACA,SACA,kBACA,MACA,UACA,mBACA,MACA,UACA,mBACA,MACA,UACA,mBACA,MACA,SACA,kBACA,MAGA,MAEA,EADA,qBACA,EACA,qBACA,EACA,qBACA,EACA,oBACA,EAEA,GAEA,mBACA,mBACA,qBAEA,aApQA,SAoQA,GAEA,eACA,SACA,kBACA,MACA,UACA,mBACA,MACA,UACA,mBACA,MACA,UACA,mBACA,QAGA,cArRA,WAsRA,gCACA,oBACA,sBAGA,aA3RA,WA4RA,uD;;;;2DC3ZA,ogDAAs9C,eAAG,G","file":"pages/order/index.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/order/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=0ca91b30&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../sort/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/order/index.vue\"\nexport default component.exports","export * from \"-!../../../../../sort/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../sort/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../sort/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../sort/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../sort/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../sort/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=0ca91b30&\"","var components\ntry {\n  components = {\n    uLoadmore: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-loadmore/u-loadmore\" */ \"@/uview-ui/components/u-loadmore/u-loadmore.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../sort/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../sort/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../sort/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../sort/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../sort/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../sort/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../sort/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../sort/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../sort/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../sort/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view id=\"order\" :style=\"{height:Height}\" style=\"overflow-y:auto\">\r\n\t\t<template>\r\n\t\t\t<view class=\"tabs\">\r\n\t\t\t\t<view class=\"tabsList\" v-for=\"item in list\" :key=\"item.name\" @click=\"change(item)\"\r\n\t\t\t\t\t:class=\"item.name === current ? 'activeColor' : ''\">\r\n\t\t\t\t\t{{item.name}}\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</template>\r\n\r\n\t\t<template>\r\n\t\t\t<view class=\"wrap\">\r\n\t\t\t\t<view class=\"list\" >\r\n\t\t\t\t\t<view class=\"item\" v-for=\"(val,index) in ordersList\" @click=\"handlerItem(val)\">\r\n\t\t\t\t\t\t<view class=\"top\"  v-for=\"(item,index) in val.omsOrderItemEntityList\" :key=\"index\">\r\n\t\t\t\t\t\t\t<view class=\"lfte\">\r\n\t\t\t\t\t\t\t\t<image lazy-load=\"true\" :src=\"item.skuPic\" mode=\"\"></image>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"right\">\r\n\t\t\t\t\t\t\t\t<view class=\"title\">\r\n\t\t\t\t\t\t\t\t\t{{item.spuName}}\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"text\">\r\n\t\t\t\t\t\t\t\t\t<text class=\"specs\">\r\n\t\t\t\t\t\t\t\t\t\t{{item.skuName}}\r\n\t\t\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t\t\t\t<text class=\"num\">\r\n\t\t\t\t\t\t\t\t\t\tx{{item.skuQuantity}}\r\n\t\t\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"msginfo\">\r\n\t\t\t\t\t\t\t\t\t<!-- <text class=\"msg\">\r\n\t\t\t\t\t\t\t\t\t\t7天无理由退货\r\n\t\t\t\t\t\t\t\t\t</text> -->\r\n\t\t\t\t\t\t\t\t\t<text class=\"money\">\r\n\t\t\t\t\t\t\t\t\t\t￥{{item.realAmount  || 0}}\r\n\t\t\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"botom\">\r\n\t\t\t\t\t\t\t<view class=\"button\" :class=\"val.orderStatus == '6' || val.orderStatus == '5' || val.orderStatus == '4' ? 'state' : 'activeButton'\" v-for=\"(items,i) in val.buts\" :key=\"i\"\r\n\t\t\t\t\t\t\t\t@tap.stop=\"handlerButt(items,val)\">\r\n\t\t\t\t\t\t\t\t{{ items }}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<u-loadmore :status=\"status\" />\r\n\t\t\t</view>\r\n\t\t</template>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport _ from \"lodash\"\r\n\tconst operaState = {\r\n\t\t'0':['取消订单', '待付款'],\r\n\t\t'1':['申请退款','查看未送牛奶'],\n\t\t'2':['申请退款','查看未送牛奶'],\r\n\t\t// '2':['确认收货'],\r\n\t\t'3':['去复购'],\n\t\t'4':['退款中'],\r\n\t\t'5':['已退款'],\r\n\t\t'6':['已关闭'],\r\n\t}\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\n\t\t\t\tfixType: [1, 5], // 未送完、退款订单\r\n\t\t\t\tlist: [{\r\n\t\t\t\t\t\tname: '全部'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: '待付款'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: '未送完'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: '已送完'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname:'退款'\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tpage: {\r\n\t\t\t\t\tstatus: 'loadMore',\r\n\t\t\t\t\tpageNum: 1,\r\n\t\t\t\t\tpageSize: 10,\r\n\t\t\t\t},\r\n\t\t\t\tcurrent: '全部',\r\n\t\t\t\tHeight: \"\",\r\n\t\t\t\tordersList: [],\r\n\t\t\t\torderStatus: '',\r\n\t\t\t};\r\n\t\t},\r\n\t\tonLoad(option) {\r\n\t\t\tlet current = uni.getStorageSync('current')\r\n\t\t\tlet orderStatus = uni.getStorageSync('orderStatus')\r\n\t\t\tif(current && orderStatus){\r\n\t\t\t\tuni.removeStorageSync('current')\r\n\t\t\t\tuni.removeStorageSync('orderStatus')\r\n\t\t\t}\r\n\t\t\tif(option.current || option.orderStatus){\r\n\t\t\t\tthis.current = option.current\r\n\t\t\t\tthis.orderStatus = option.orderStatus\r\n\t\t\t}\r\n\t\t\tthis.ordersList = [];\r\n\t\t\tthis.getOrderList();\r\n\t\t\tthis.getAppHeight();\r\n\t\t},\r\n\t\tonHide(){\r\n\t\t\tuni.setStorageSync('current',this.current)\r\n\t\t\tuni.setStorageSync('orderStatus',this.orderStatus)\r\n\t\t},\r\n\t\tonShow(){\r\n\t\t\tlet current = uni.getStorageSync('current')\r\n\t\t\tlet orderStatus = uni.getStorageSync('orderStatus')\r\n\t\t\tif(current && orderStatus){\r\n\t\t\t\tthis.current = current\r\n\t\t\t\tthis.orderStatus = orderStatus\r\n\t\t\t\tthis.ordersList = [];\r\n\t\t\t\tthis.getOrderList();\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgetOrderList() {\n\t\t\t\tlet omsOrderVo =  Object.assign({\r\n\t\t\t\t\t\"orderStatus\": this.orderStatus,\r\n\t\t\t\t}, this.fixType.includes(this.orderStatus)?{\n\t\t\t\t\ttype: this.orderStatus == 1? 1 : 2\n\t\t\t\t}: {});\r\n\t\t\t\tthis.$u.api.findByOrders({\r\n\t\t\t\t\t'pageRequest': {\r\n\t\t\t\t\t\t\"pageNum\": this.page.pageNum,\r\n\t\t\t\t\t\t\"pageSize\": this.page.pageSize,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tomsOrderVo,\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\t// console.log(res);\r\n\t\t\t\t\t// this.ordersList = res.records\r\n\t\t\t\t\tres.records.forEach(item => {\r\n\t\t\t\t\t\tthis.ordersList.push(item)\r\n\t\t\t\t\t\titem.buts = this.getbuts(item.orderStatus)\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\tif (res.current == res.pages) {\r\n\t\t\t\t\t\tthis.page.status = 'noneMore';\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch()\r\n\t\t\t},\r\n\t\t\tgetbuts(type) {\r\n\t\t\t\tswitch (type) {\r\n\t\t\t\t\tcase '0':\r\n\t\t\t\t\t\treturn operaState[type]\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase '1':\r\n\t\t\t\t\t\treturn operaState[type]\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase '2':\r\n\t\t\t\t\t\treturn operaState[type]\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase '3': \r\n\t\t\t\t\t\treturn operaState[type]\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase '4':\r\n\t\t\t\t\t\treturn operaState[type]\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase '5':\r\n\t\t\t\t\t\treturn operaState[type]\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase '6':\r\n\t\t\t\t\t\treturn operaState[type]\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\thandlerButt:_.debounce(function(item,val) {\r\n\t\t\t\tswitch (item) {\r\n\t\t\t\t\tcase '待付款':\r\n\t\t\t\t\t\tthis.topaid(val)\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase '取消订单':\r\n\t\t\t\t\t\tthis.cancelOrder(val)\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase '去复购':\r\n\t\t\t\t\t\tthis.repurchase(val)\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase '查看未送牛奶':\r\n\t\t\t\t\t\tthis.sendMilk(val)\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase '提醒发货':\r\n\t\t\t\t\t\tthis.remindDelivery(val)\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase '确认收货':\r\n\t\t\t\t\t\tthis.confirmReceipt(val)\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase '申请退款':\r\n\t\t\t\t\t\tthis.tosales(val);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t// case '查看物流':\r\n\t\t\t\t\t// \tthis.checkLogistics(val)\r\n\t\t\t\t\t// \tbreak;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t }, 1000, {\r\n\t\t\t\t 'leading': true, //在延迟开始前立即调用事件\r\n\t\t\t\t 'trailing': false, //在延时结束后不调用,保证事件只被触发一次\r\n\t\t\t}),\r\n\t\t\r\n\t\t\ttosales(val) {\n\t\t\t\tlet str = [\n\t\t\t\t\t\"该订单为月付订单，不可申请退款\",\n\t\t\t\t\t\"该订单为先送后付订单，不可申请退款\",\n\t\t\t\t\t\"该订单为可退数量为0，不可申请退款\",\n\t\t\t\t]\n\t\t\t\tlet messageKey = -1;\n\t\t\t\tif (val.totalCanRefundNum<=0) {\n\t\t\t\t\tmessageKey = 2;\n\t\t\t\t}\n\t\t\t\tif(val.payType == 3) {\n\t\t\t\t\tmessageKey = 0;\n\t\t\t\t} else if (val.payType ==1) {\n\t\t\t\t\tmessageKey = 1;\n\t\t\t\t}\r\n\t\t\n\t\t\t\tif (messageKey > -1) {\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\ttitle: '提示',\n\t\t\t\t\t\tcontent: str[messageKey],\n\t\t\t\t\t\tconfirmColor:'black',\n\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\tconfirmText: '确定',\n\t\t\t\t\t\tsuccess(res2) {\n\t\t\t\t\t\t\tif (res2.confirm) {\n\t\t\t\t\t\t\t\tconsole.log('没有操作');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: '/pages/my/torefund?id='+val.id+'&orderSn='+val.orderSn+'&payAmount='+val.payAmount+'&omsOrderItemEntityList='+encodeURIComponent(JSON.stringify(val.omsOrderItemEntityList))+'&totalRefundAmount='+val.totalRefundAmount+'&totalCanRefundNum='+val.totalCanRefundNum\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// uni.navigateTo({\r\n\t\t\t\t// \turl: '/pages/my/torefund?list=' + encodeURIComponent(JSON.stringify(this.list))\r\n\t\t\t\t// });\r\n\t\t\t\t\r\n\t\t\t\t// uni.navigateTo({\r\n\t\t\t\t// \turl: '/pages/my/postSales?id='+val.id+'&orderSn='+val.orderSn\r\n\t\t\t\t// });\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t\r\n\t\t\thandlerItem(item){\r\n\t\t\t\tif(item.orderStatus == '5' || item.orderStatus == '4'){\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: '/pages/order/refundPage?list=' + encodeURIComponent(JSON.stringify(item))\r\n\t\t\t\t\t})\r\n\t\t\t\t}else{\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: '/pages/order/topaid?list=' + encodeURIComponent(JSON.stringify(item))\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 待付款\r\n\t\t\ttopaid(val) {\r\n\t\t\t\t\r\n\t\t\t\tlet spuId = [];\r\n\t\t\t\tlet skuId = [];\r\n\t\t\t\tlet num = [];\r\n\t\t\t\t\r\n\t\t\t\tval.omsOrderItemEntityList.map(item=>{\r\n\t\t\t\t\tspuId.push(item.spuId)\r\n\t\t\t\t\tskuId.push(item.skuId)\r\n\t\t\t\t\tnum.push(item.skuQuantity)\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/order/confirmOrder?supId='+ spuId.join(',')+ '&skuId=' +skuId.join(',') + '&num='+num.join(',')+'&orderSn='+val.orderSn+'&batchId='+val.batchId\r\n\t\t\t\t})\r\n\t\t\t\r\n\t\t\t},\r\n\t\t\t//取消订单\r\n\t\t\tcancelOrder(val) {\r\n\t\t\t\tthis.$u.api.updateStatus({\r\n\t\t\t\t\torderSn:val.orderSn,\r\n\t\t\t\t\torderStatus:'6',\r\n\t\t\t\t\tdeliverySn:''\r\n\t\t\t\t}).then(res=>{\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:'已取消订单'\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.current = '待付款'\r\n\t\t\t\t\tthis.orderStatus = '0'\r\n\t\t\t\t\tthis.ordersList = [];\r\n\t\t\t\t\tthis.getOrderList();\r\n\t\t\t\t}).catch()\r\n\t\t\t},\r\n\t\t\t//去复购\r\n\t\t\trepurchase(val) {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl:'/pages/commodity/info?id=' + val.omsOrderItemEntityList[0].spuId\r\n\t\t\t\t})\r\n\t\t\t},\n\t\t\t// 未送牛奶\n\t\t\tsendMilk(val) {\n\t\t\t\tconsole.log('未送牛奶', val);\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl:'/pages/order/unsentDetail?orderId=' + val.id\r\n\t\t\t\t})\n\t\t\t},\r\n\t\t\t//提醒发货\r\n\t\t\tremindDelivery() {\r\n\t\t\t\tconsole.log('提醒发货')\r\n\t\t\t},\r\n\t\t\t//确认收货\r\n\t\t\tconfirmReceipt(val) {\r\n\t\t\t\t\r\n\t\t\t\t// console.log(val)\r\n\t\t\t\tvar spuidList = [];\r\n\t\t\t\t\r\n\t\t\t\tval.omsOrderItemEntityList.map(item=>{\r\n\t\t\t\t\tspuidList.push(item.spuId)\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t// return\r\n\t\t\t\t// console.log('确认收货',val)\r\n\t\t\t\tthis.$u.api.confirmReceipt({\r\n\t\t\t\t\torderSn:val.orderSn,\r\n\t\t\t\t\tspuId:spuidList\r\n\t\t\t\t}).then(res=>{\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:'确认收货'\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.ordersList = []\r\n\t\t\t\t\tthis.current = '全部'\r\n\t\t\t\t\tthis.orderStatus = ''\r\n\t\t\t\t\tthis.getOrderList();\r\n\t\t\t\t}).catch()\r\n\t\t\t},\r\n\t\t\t//查看物流\r\n\t\t\tcheckLogistics() {\r\n\t\t\t\tconsole.log('查看物流')\r\n\t\t\t},\r\n\t\t\tchange(item) {\r\n\t\t\t\t// console.log(item, this.orderStatus);\r\n\t\t\t\t// this.current = index;\r\n\t\t\t\tswitch (item.name) {\r\n\t\t\t\t\tcase '全部':\r\n\t\t\t\t\t\tthis.current = '全部'\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase '待付款':\r\n\t\t\t\t\t\tthis.current = '待付款'\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase '未送完':\r\n\t\t\t\t\t\tthis.current = '未送完'\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase '已送完':\r\n\t\t\t\t\t\tthis.current = '已送完'\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase '退款':\r\n\t\t\t\t\t\t\tthis.current = '退款'\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t\t// console.log(this.current);\r\n\t\t\t\tlet orderStatus;\r\n\t\t\t\tif (this.current === '待付款') {\r\n\t\t\t\t\torderStatus = 0\r\n\t\t\t\t} else if (this.current === '未送完') {\r\n\t\t\t\t\torderStatus = 1\r\n\t\t\t\t} else if (this.current === '已送完') {\r\n\t\t\t\t\torderStatus = 3\r\n\t\t\t\t} else if (this.current === '退款') {\r\n\t\t\t\t\torderStatus = 5\r\n\t\t\t\t} else {\r\n\t\t\t\t\torderStatus = ''\r\n\t\t\t\t}\r\n\t\t\t\tthis.orderStatus = orderStatus;\r\n\t\t\t\tthis.ordersList = [];\r\n\t\t\t\tthis.getOrderList();\r\n\t\t\t},\r\n\t\t\thandlerClick(item) {\r\n\t\t\t\t// console.log(item);\r\n\t\t\t\tswitch (item.type) {\r\n\t\t\t\t\tcase '全部':\r\n\t\t\t\t\t\tthis.current = '全部'\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase '待付款':\r\n\t\t\t\t\t\tthis.current = '待付款'\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase '未送完':\r\n\t\t\t\t\t\tthis.current = '未送完'\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase '已送完':\r\n\t\t\t\t\t\tthis.current = '已送完'\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonReachBottom() { //上拉加载\r\n\t\t\t\tif (this.page.status === 'loadMore') {\r\n\t\t\t\t\tthis.page.pageNum++;\r\n\t\t\t\t\tthis.getOrderList();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgetAppHeight() {\r\n\t\t\t\tthis.Height = uni.getSystemInfoSync().windowHeight + 'px';\r\n\t\t\t},\r\n\t\t}\r\n\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t#order {\r\n\t\tbackground: #f0f0f0;\r\n\r\n\t\t.tabs {\r\n\t\t\twidth: 750rpx;\r\n\t\t\theight: 88rpx;\r\n\t\t\toverflow-x: auto;\r\n\t\t\tbackground: #FFFFFF;\t\t\t\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: space-around;\r\n\t\t\talign-items: center;\r\n\t\t\tposition: fixed;\r\n\t\t\tz-index: 100;\r\n\r\n\t\t\t.tabsList {\r\n\t\t\t\tcolor: #000000;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.activeColor {\r\n\t\t\tcolor: $u-main-color;\r\n\t\t\tborder-bottom: 1rpx solid $u-main-color;\r\n\t\t}\r\n\t\t.wrap {\r\n\t\t\tpadding-top: 100rpx;\r\n\r\n\t\t\t.list {\r\n\t\t\t\tpadding-top: 20rpx;\r\n\t\t\t\tmargin: 0 21rpx;\r\n\r\n\t\t\t\t&>.item {\r\n\t\t\t\t\tpadding: 0 20rpx;\r\n\t\t\t\t\tmargin-bottom: 20rpx;\r\n\t\t\t\t\tbackground: #FFFFFF;\r\n\t\t\t\t\tborder-radius: 12rpx;\r\n\t\t\t\t\twidth: 100%;\r\n\r\n\t\t\t\t\t&>.top {\r\n\t\t\t\t\t\tpadding-top: 20rpx;\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\tjustify-content: space-between;\r\n\t\t\t\t\t\tpadding-bottom: 20rpx;\r\n\r\n\t\t\t\t\t\t.lfte {\r\n\t\t\t\t\t\t\theight: 180rpx;\r\n\r\n\t\t\t\t\t\t\timage {\r\n\t\t\t\t\t\t\t\twidth: 180rpx;\r\n\t\t\t\t\t\t\t\theight: 180rpx;\r\n\t\t\t\t\t\t\t\tborder-radius: 12rpx;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.right {\r\n\t\t\t\t\t\t\twidth: 469rpx;\r\n\t\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\t\tflex-direction: column;\r\n\t\t\t\t\t\t\tjustify-content: space-between;\r\n\r\n\t\t\t\t\t\t\t.title {\r\n\t\t\t\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\t\t\t\tcolor: #1A1A1A;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t.text {\r\n\t\t\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\t\t\tjustify-content: space-between;\r\n\r\n\t\t\t\t\t\t\t\t.specs {\r\n\t\t\t\t\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\t\t\t\t\tcolor: #808080;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t.num {\r\n\t\t\t\t\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\t\t\t\t\tcolor: #1A1A1A;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t.msginfo {\r\n\t\t\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\t\t\tjustify-content: space-between;\r\n\r\n\t\t\t\t\t\t\t\t.msg {\r\n\t\t\t\t\t\t\t\t\tcolor: $u-main-color;\r\n\t\t\t\t\t\t\t\t\tfont-size: 20rpx;\r\n\t\t\t\t\t\t\t\t\t// background: #FFF0E5;\r\n\t\t\t\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\t\t\t\tborder-radius: 12rpx;\r\n\t\t\t\t\t\t\t\t\twidth: 160rpx;\r\n\t\t\t\t\t\t\t\t\theight: 32rpx;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t.money {\r\n\t\t\t\t\t\t\t\t\tcolor: $u-main-color;\r\n\t\t\t\t\t\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\t\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t&>.botom {\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\tflex-direction: row-reverse;\r\n\t\t\t\t\t\talign-items: center;\r\n\r\n\t\t\t\t\t\t.but {\r\n\t\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\t\tbackground: $u-main-color;\r\n\t\t\t\t\t\t\tcolor: #FFFFFF;\r\n\t\t\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\t\t\twidth: 128rpx;\r\n\t\t\t\t\t\t\theight: 48rpx;\r\n\t\t\t\t\t\t\tborder-radius: 12rpx;\r\n\t\t\t\t\t\t\tmargin-left: 10px;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.button {\r\n\t\t\t\t\t\t\tmin-width: 128rpx;\n\t\t\t\t\t\t\twidth: max-content;\r\n\t\t\t\t\t\t\theight: 48rpx;\r\n\t\t\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\t\t\tline-height: 48rpx;\r\n\t\t\t\t\t\t\tcolor: #4D4D4D;\r\n\t\t\t\t\t\t\tborder: 2rpx solid #4D4D4D;\r\n\t\t\t\t\t\t\tborder-radius: 8rpx;\r\n\t\t\t\t\t\t\tmargin-top: 20rpx;\r\n\t\t\t\t\t\t\tmargin-bottom: 20rpx;\r\n\t\t\t\t\t\t    margin-left: 40rpx;\r\n\t\t\t\t\t\t\t// padding: 12rpx 17rpx 12rpx 16rpx;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// .button:last-child {\r\n\t\t\t\t\t\t// \tmargin-left: 40rpx;\r\n\t\t\t\t\t\t// }\r\n\r\n\t\t\t\t\t\t.activeButton {\r\n\t\t\t\t\t\t\tbackground: $u-main-color;\r\n\t\t\t\t\t\t\tcolor: #FFFFFF;\r\n\t\t\t\t\t\t\tborder: none;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t.state{\r\n\t\t\t\t\t\t\tborder: none;\r\n\t\t\t\t\t\t\tcolor: $u-main-color;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\r\n","import mod from \"-!../../../../../sort/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../sort/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../sort/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../sort/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../sort/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../sort/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../sort/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../sort/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../sort/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../sort/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../sort/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../sort/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../sort/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../sort/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../sort/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../sort/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../sort/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../sort/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}